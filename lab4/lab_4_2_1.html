<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Оформление вертикального меню со спрайтом (Финальная версия)</title>
    <style>
        html {
            background: #f0f0f0;
        }

        .menu {
            width: 200px;
            background: #fff;
            padding: 10px;
            font-family: sans-serif;
        }

        .menu ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .menu li {
            margin-bottom: 5px;
        }

        .menu li a {
            display: block;
            text-decoration: underline;
            color: #1A5C9A;
            padding: 2px 0;
            line-height: 1.5; /* Даем больше места по высоте */
            position: relative; /* Нужно для позиционирования ::before */
        }

        .menu li a:hover {
            text-decoration: none;
        }

        /* === ОБЩИЕ СТИЛИ ДЛЯ ИКОНОК ::before === */
        .menu li a::before {
            content: ''; /* ОБЯЗАТЕЛЬНО! */
            display: inline-block; /* Чтобы можно было задать размеры и фон */

            /*
             * ШАГ 1: УКАЖИТЕ ТОЧНЫЕ РАЗМЕРЫ ОДНОЙ ИКОНКИ
             * Откройте css_sprites.png в редакторе (Paint, Photoshop, GIMP и т.д.)
             * Измерьте ширину и высоту одной иконки (например, плюса).
            */
            width: 11px;  /* <<< ЗАМЕНИТЕ ЗДЕСЬ на вашу ТОЧНУЮ ширину в px */
            height: 11px; /* <<< ЗАМЕНИТЕ ЗДЕСЬ на вашу ТОЧНУЮ высоту в px */

            /*
             * ШАГ 2: УБЕДИТЕСЬ, ЧТО ПУТЬ К ФАЙЛУ ПРАВИЛЬНЫЙ
             * Файл css_sprites.png должен лежать РЯДОМ с этим HTML-файлом.
             * Если он в папке (например, "img"), путь будет url('img/css_sprites.png')
            */
            background-image: url('css_sprites.png'); /* <<< ПРОВЕРЬТЕ ЭТОТ ПУТЬ */
            background-repeat: no-repeat; /* Не повторять фон */

            /* Отступ справа от иконки */
            margin-right: 6px;
            /* Вертикальное выравнивание иконки относительно текста */
            vertical-align: middle; /* Попробуйте также: top, bottom, text-bottom */
        }

        /* === ИКОНКА ДЛЯ ВЕРХНЕГО УРОВНЯ (ПО УМОЛЧАНИЮ - ПЛЮС) === */
        .menu > ul > li > a::before {
            /*
             * ШАГ 3: УКАЖИТЕ ТОЧНЫЕ КООРДИНАТЫ ПЛЮСА (+)
             * В редакторе наведите курсор на ВЕРХНИЙ ЛЕВЫЙ угол иконки ПЛЮСА.
             * Запишите координаты X и Y.
             * Вставьте их ниже со знаком МИНУС.
             * ПРИМЕР: если координаты (26, 5), то background-position: -26px -5px;
            */
            background-position: -26px -5px; /* <<< ЗАМЕНИТЕ ЗДЕСЬ на ваши ТОЧНЫЕ координаты X и Y для ПЛЮСА */
        }

        /* === ИКОНКА ДЛЯ ВЛОЖЕННЫХ ЭЛЕМЕНТОВ (ТОЧКА) === */
        .menu li li a::before {
            /*
             * ШАГ 4: УКАЖИТЕ ТОЧНЫЕ КООРДИНАТЫ ТОЧКИ (·)
             * В редакторе наведите курсор на ВЕРХНИЙ ЛЕВЫЙ угол иконки ТОЧКИ.
             * Запишите координаты X и Y.
             * Вставьте их ниже со знаком МИНУС.
             * ПРИМЕР: если координаты (5, 26), то background-position: -5px -26px;
            */
            background-position: -5px -26px; /* <<< ЗАМЕНИТЕ ЗДЕСЬ на ваши ТОЧНЫЕ координаты X и Y для ТОЧКИ */
        }

        /* === ИКОНКА ДЛЯ АКТИВНОГО ВЕРХНЕГО УРОВНЯ (МИНУС) === */
        .menu > ul > li.active > a::before {
             /*
             * ШАГ 5: УКАЖИТЕ ТОЧНЫЕ КООРДИНАТЫ МИНУСА (-)
             * В редакторе наведите курсор на ВЕРХНИЙ ЛЕВЫЙ угол иконки МИНУСА.
             * Запишите координаты X и Y.
             * Вставьте их ниже со знаком МИНУС.
             * ПРИМЕР: если координаты (5, 5), то background-position: -5px -5px;
            */
            background-position: -5px -5px; /* <<< ЗАМЕНИТЕ ЗДЕСЬ на ваши ТОЧНЫЕ координаты X и Y для МИНУСА */
        }


        /* --- Остальные стили (раскрытие, отступы и т.д.) --- */
        .menu > ul > li > a {
            cursor: pointer; /* Показываем, что на ссылку можно нажать */
        }
        .menu > ul > li > ul {
            display: none; /* Подменю изначально скрыты */
            margin-top: 5px;
            padding-left: 0; /* Убираем лишний отступ у вложенного списка */
        }
        .menu li li a {
             /* Отступ для текста вложенных элементов, чтобы он был правее иконки */
            padding-left: 20px;
            cursor: default;
        }
         /* Показываем подменю при клике (когда у LI есть класс 'active') */
        .menu > ul > li.active > ul {
            display: block;
        }

    </style>
</head>
<body>
    <nav class="menu">
        <ul>
            <li><a href="#">Фильмы</a>
                <ul>
                    <li><a href="#">Экшн</a></li>
                    <li><a href="#">Мелодрамы</a></li>
                    <li><a href="#">Сериалы</a></li>
                    <li><a href="#">Семейные</a></li>
                </ul>
            </li>
            <li><a href="#">Музыка</a>
                <ul>
                    <li><a href="#">Классика</a></li>
                    <li><a href="#">Джаз</a></li>
                    <li><a href="#">Рок</a></li>
                    <li><a href="#">Грандж</a></li>
                </ul>
            </li>
            <li><a href="#">Софт</a>
                <ul>
                    <li><a href="#">Графика</a></li>
                    <li><a href="#">3D-моделирование</a></li>
                    <li><a href="#">Машинопись</a></li>
                    <li><a href="#">Переводчики</a></li>
                </ul>
            </li>
            <li><a href="#">Игры</a>
                <ul>
                    <li><a href="#">РПГ</a></li>
                    <li><a href="#">Шутеры</a></li>
                    <li><a href="#">Пасьянсы</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <script>
        // JavaScript остается тем же, он переключает класс 'active' на LI
        const topLevelLinks = document.querySelectorAll('.menu > ul > li > a');
        topLevelLinks.forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault(); // Отменяем переход по ссылке #
                const parentLi = this.parentNode; // Находим родительский LI
                parentLi.classList.toggle('active'); // Добавляем/удаляем класс active
            });
        });
    </script>

</body>
</html>
